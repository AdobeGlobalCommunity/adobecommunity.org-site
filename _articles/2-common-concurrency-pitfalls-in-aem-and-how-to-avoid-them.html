---
layout: article
title: '2 Common Concurrency Pitfalls in AEM and How to Avoid Them'
tags:
  - 'Adobe Experience Manager'
original: 'https://blogs.perficient.com/adobe/2017/12/05/2-common-concurrency-pitfalls-in-aem-and-how-to-avoid-them/'
image: 'https://blogs.perficient.com/adobe/files/2017/12/concurrency-1600x600.jpg'
author: 'Dan Klco'
date: 2017-12-05T11:00:00.000Z
---

<p>Concurrency issues are both disastrous and difficult to detect in non-production loads. They are more difficult to reproduce than most bugs because they specifically rely on multiple operations happening at/around the same time, which is difficult to reproduce in a development or local environment.</p>
<p>Since concurrency bugs are hard to find and diagnose, we should be vigilant to patterns which cause them and be especially careful in writing certain types of code, which is more likely to have concurrency issues. I&rsquo;ve done a number of audits and hundreds of code reviews and there are two common patterns where concurrency issues are prevalent. They are:</p>
<ul>
<li>Member variables of OSGi Services</li>
<li>Repository Updates in Workflows / Async-Tasks&nbsp;</li>
</ul>
<p>Let&rsquo;s unpack each pattern, understand how it can lead to concurrency issues and discuss the concurrency-issue free replacement.</p>